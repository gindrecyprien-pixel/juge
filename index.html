<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tribunal du Carnaval de Venise</title>

<style>
@import url('https://fonts.googleapis.com/css2?family=EB+Garamond:wght@400;700&display=swap');

body {
    font-family: 'EB Garamond', serif;
    background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
    margin: 0;
    padding: 30px;
    display: flex;
    justify-content: center;
    min-height: 100vh;
}

.container {
    background: linear-gradient(to bottom, #2c1810, #1a0f0a);
    padding: 50px;
    border-radius: 15px;
    max-width: 700px;
    width: 100%;
    text-align: center;
    border: 3px solid #8b6914;
}

h2, h3 {
    color: #d4af37;
    text-transform: uppercase;
}

label {
    display: block;
    color: #c9a961;
    text-align: left;
    margin-bottom: 8px;
}

input, select {
    width: 100%;
    padding: 12px;
    margin-bottom: 20px;
    border-radius: 8px;
    border: 2px solid #8b6914;
    background: rgba(44, 24, 16, 0.6);
    color: #d4af37;
}

button {
    padding: 12px 25px;
    border-radius: 8px;
    border: 2px solid #8b6914;
    background: #8b6914;
    color: white;
    cursor: pointer;
    font-weight: bold;
}

.description {
    text-align: left;
    background: rgba(0,0,0,0.4);
    padding: 20px;
    border-radius: 10px;
    color: #e6d9c8;
    white-space: pre-line;
}

.affaire-ligne {
    display: flex;
    justify-content: space-between;
    background: rgba(139,105,20,0.3);
    padding: 10px;
    border-radius: 8px;
    margin-bottom: 10px;
}
</style>
</head>

<body>

<div class="container" id="accueil">
    <h2>âš–ï¸ Tribunal du Carnaval âš–ï¸</h2>

    <label>ğŸ“œ NumÃ©ro de l'affaire</label>
    <input id="affaireInput">

    <label>ğŸ” Matricule du juge</label>
    <input type="password" id="matriculeInput">

    <button onclick="verifier()">Ouvrir l'audience</button>

    <h3>Affaires jugÃ©es</h3>
    <div id="listeAffaires"></div>
</div>

<div class="container" id="deliberation" style="display:none;">
    <h2 id="titreAffaire"></h2>
    <div class="description" id="descriptionAffaire"></div>

    <label>Famille</label>
    <select id="famigliaSelect">
        <option value="">-- Choisir --</option>
        <option value="Gondolini">Gondolini</option>
        <option value="Leoncini">Leoncini</option>
        <option value="Mascheri">Mascheri</option>
    </select>

    <button onclick="confirmerJugement()">Prononcer le jugement</button>
    <br><br>
    <button onclick="retourAccueil()">Retour</button>
</div>

<div class="container" id="jugement" style="display:none;">
    <h2>ğŸ“œ Verdict ğŸ“œ</h2>
    <h3 id="jugementTitre"></h3>
    <p id="jugementFamille"></p>
    <p id="amendeTexte"></p>
    <br>
    <button onclick="retourAccueil()">Retour</button>
</div>

<script>
const matriculeCorrect = "cestmoiquidecide";

const affaires = {
    "Profanateur_MasquÃ©": "Affaire coupable",
    "Clocher_Enthousiaste": "Affaire coupable",
    "Rubans_RattachÃ©s": "Affaire bienfaitrice",
    "Bougies_RÃ©veillÃ©es": "Affaire bienfaitrice"
};

const affairesJugees = {};
let affaireCourante = null;
let montantAmendeActuel = 3;

function verifier() {
    const affaire = affaireInput.value.trim();
    const matricule = matriculeInput.value.trim();

    if (!affaires[affaire]) {
        alert("Affaire inexistante");
        return;
    }

    if (matricule !== matriculeCorrect) {
        alert("Matricule incorrect");
        return;
    }

    affaireCourante = affaire;
    titreAffaire.innerText = "ğŸ“‹ Affaire : " + affaire;
    descriptionAffaire.innerText = affaires[affaire];
    famigliaSelect.value = "";

    accueil.style.display = "none";
    deliberation.style.display = "block";
}

function confirmerJugement() {
    const famille = famigliaSelect.value;
    if (!famille) {
        alert("Choisissez une famille");
        return;
    }

    affairesJugees[affaireCourante] = famille;
    afficherJugement(affaireCourante);
    mettreAJourListe();
}

function afficherJugement(affaire) {
    jugementTitre.innerText = affaire;

    const bienfaitrices = ["Rubans_RattachÃ©s", "Bougies_RÃ©veillÃ©es"];
    const estBienfaiteur = bienfaitrices.includes(affaire);

    if (estBienfaiteur) {
        jugementFamille.innerHTML =
            `ğŸ… La famiglia <strong>${affairesJugees[affaire]}</strong> est bienfaitrice du Carnaval ğŸ…`;
        amendeTexte.innerText =
            `Les autres familles paient ${montantAmendeActuel} MV chacune.`;
    } else {
        jugementFamille.innerHTML =
            `âš–ï¸ La famiglia <strong>${affairesJugees[affaire]}</strong> est COUPABLE âš–ï¸`;
        amendeTexte.innerText =
            `Amende de ${montantAmendeActuel} MV.`;
    }

    deliberation.style.display = "none";
    jugement.style.display = "block";
}

function retourAccueil() {
    accueil.style.display = "block";
    deliberation.style.display = "none";
    jugement.style.display = "none";
}

function mettreAJourListe() {
    listeAffaires.innerHTML = "";
    for (let a in affairesJugees) {
        const div = document.createElement("div");
        div.className = "affaire-ligne";
        div.innerHTML = `
            <span>${a}</span>
            <button onclick="afficherJugement('${a}')">Voir</button>
        `;
        listeAffaires.appendChild(div);
    }
}
</script>

</body>
</html>
