<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tribunal du Carnaval de Venise</title>

<style>
@import url('https://fonts.googleapis.com/css2?family=EB+Garamond:wght@400;700&display=swap');

body {
    font-family: 'EB Garamond', serif;
    background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
    margin: 0;
    padding: 30px;
    display: flex;
    justify-content: center;
    min-height: 100vh;
    position: relative;
}

body::before {
    content: 'âš–ï¸';
    position: fixed;
    top: 20px;
    left: 20px;
    font-size: 60px;
    opacity: 0.15;
    animation: float 6s ease-in-out infinite;
}

body::after {
    content: 'âš–ï¸';
    position: fixed;
    bottom: 20px;
    right: 20px;
    font-size: 60px;
    opacity: 0.15;
    animation: float 6s ease-in-out infinite reverse;
}

@keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-20px); }
}

.container {
    background: linear-gradient(to bottom, #2c1810, #1a0f0a);
    padding: 50px;
    border-radius: 15px;
    box-shadow: 0 10px 50px rgba(0,0,0,0.8), inset 0 0 30px rgba(139, 69, 19, 0.2);
    max-width: 700px;
    width: 100%;
    text-align: center;
    border: 3px solid #8b6914;
    position: relative;
}

.container::before {
    content: '';
    position: absolute;
    top: -60px;
    left: 50%;
    transform: translateX(-50%);
    width: 100px;
    height: 100px;
    background: radial-gradient(circle, #d4af37 0%, #8b6914 70%);
    border-radius: 50%;
    border: 4px solid #2c1810;
    box-shadow: 0 5px 20px rgba(212, 175, 55, 0.5);
}

.container::after {
    content: 'âš–ï¸';
    position: absolute;
    top: -60px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 45px;
    text-shadow: 0 0 10px rgba(255, 215, 0, 0.8);
}

h2, h3 {
    color: #d4af37;
    text-shadow: 0 2px 10px rgba(212, 175, 55, 0.5);
    font-weight: 700;
    letter-spacing: 2px;
    text-transform: uppercase;
    margin-top: 40px;
}

h2 {
    font-size: 1.8em;
    border-bottom: 2px solid #8b6914;
    padding-bottom: 15px;
    margin-bottom: 25px;
}

h3 {
    font-size: 1.3em;
    color: #c9a961;
}

label {
    display: block;
    color: #c9a961;
    text-align: left;
    margin-bottom: 8px;
    font-weight: 600;
    font-size: 1.1em;
}

input, select {
    width: 100%;
    padding: 14px;
    margin: 10px 0 25px 0;
    border-radius: 8px;
    border: 2px solid #8b6914;
    background: rgba(44, 24, 16, 0.6);
    color: #d4af37;
    font-family: 'EB Garamond', serif;
    font-size: 1.1em;
    box-sizing: border-box;
}

input::placeholder {
    color: #8b6914;
}

input:focus, select:focus {
    outline: none;
    border-color: #d4af37;
    box-shadow: 0 0 15px rgba(212, 175, 55, 0.4);
}

button {
    padding: 14px 30px;
    border: 2px solid #8b6914;
    border-radius: 8px;
    background: linear-gradient(to bottom, #8b6914, #6b5010);
    color: #fff;
    cursor: pointer;
    font-family: 'EB Garamond', serif;
    font-size: 1.1em;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 1px;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(0,0,0,0.5);
}

button:hover {
    background: linear-gradient(to bottom, #d4af37, #8b6914);
    box-shadow: 0 6px 20px rgba(212, 175, 55, 0.5);
    transform: translateY(-2px);
}

button:active {
    transform: translateY(0);
}

.affaire-ligne {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: linear-gradient(to right, rgba(139, 105, 20, 0.3), rgba(44, 24, 16, 0.5));
    padding: 12px 18px;
    border-radius: 8px;
    margin-bottom: 12px;
    border-left: 4px solid #8b6914;
    transition: all 0.3s ease;
}

.affaire-ligne:hover {
    background: linear-gradient(to right, rgba(139, 105, 20, 0.5), rgba(44, 24, 16, 0.7));
    border-left-color: #d4af37;
}

.affaire-ligne span {
    color: #d4af37;
    font-weight: 600;
    font-size: 1.1em;
}

.affaire-ligne button {
    padding: 8px 20px;
    font-size: 0.95em;
}

.description {
    text-align: left;
    white-space: pre-line;
    background: rgba(0, 0, 0, 0.4);
    padding: 25px;
    border-radius: 10px;
    border: 2px solid #8b6914;
    color: #e6d9c8;
    line-height: 1.8;
    font-size: 1.05em;
    margin: 25px 0;
    box-shadow: inset 0 0 20px rgba(0,0,0,0.5);
}

hr {
    margin: 40px 0;
    border: none;
    height: 2px;
    background: linear-gradient(to right, transparent, #8b6914, transparent);
}

p {
    color: #e6d9c8;
    line-height: 1.6;
    font-size: 1.1em;
}

strong {
    color: #d4af37;
    font-weight: 700;
}

em {
    color: #c9a961;
    font-style: italic;
}

#symbolesJugement {
    background: rgba(0, 0, 0, 0.6);
    padding: 20px;
    border-radius: 10px;
    border: 1px solid #8b6914;
}

#listeAffaires:empty::before {
    content: 'Aucune affaire jugÃ©e pour le moment';
    color: #8b6914;
    font-style: italic;
    display: block;
    padding: 20px;
}
</style>
</head>

<body>

<!-- ACCUEIL -->
<div class="container" id="accueil">
    <h2>âš–ï¸ Tribunal du Carnaval âš–ï¸</h2>
    
    <label for="affaireInput">ğŸ“œ NumÃ©ro de l'affaire Ã  juger</label>
    <input type="text" id="affaireInput" placeholder="Entrez le numÃ©ro de l'affaire">

    <label for="matriculeInput">ğŸ” Matricule du juge</label>
    <input type="password" id="matriculeInput" placeholder="Matricule confidentiel">

    <button onclick="verifier()">âš–ï¸ Ouvrir l'audience âš–ï¸</button>

    <hr>

    <h3>ğŸ“‹ Registre des affaires rÃ©solues</h3>
    <div id="listeAffaires"></div>
</div>

<!-- DÃ‰LIBÃ‰RATION -->
<div class="container" id="deliberation" style="display:none;">
    <h2 id="titreAffaire"></h2>
    <div id="descriptionAffaire" class="description"></div>

    <p><strong>âš–ï¸ Veuillez rÃ©unir tous les juges pour dÃ©libÃ©ration âš–ï¸</strong></p>

    <label for="famigliaSelect">ğŸ‘¥ DÃ©signation de la famille</label>
    <select id="famigliaSelect">
        <option value="">-- SÃ©lectionner une famille --</option>
        <option value="Gondolini">Famiglia VÃ©nitienne "Gondolini"</option>
        <option value="Leoncini">Famiglia VÃ©nitienne "Leoncini"</option>
        <option value="Mascheri">Famiglia VÃ©nitienne "Mascheri"</option>
    </select>

    <button onclick="confirmerJugement()">âš–ï¸ Prononcer le jugement âš–ï¸</button>
    <br><br>
    <button onclick="retourAccueil()">â†©ï¸ Retour</button>
</div>

<!-- JUGEMENT -->
<div class="container" id="jugement" style="display:none;">
    <h2>ğŸ“œ Verdict officiel ğŸ“œ</h2>
    <h3 id="jugementTitre"></h3>
    <p id="jugementFamille" style="font-size: 1.2em; margin: 25px 0;"></p>
    <p id="symbolesJugement" style="font-size: 0.3em; margin: 15px 0;"></p>
    <p><strong id="amendeTexte">Amende de 3MV Ã  payer Ã  l'un des juges.</strong></p>
    <p><em>âš–ï¸ L'affaire est dÃ©finitivement jugÃ©e et aucun appel ne sera possible. âš–ï¸</em></p>
    <br>
    <button onclick="retourAccueil()">â†©ï¸ Retour Ã  l'accueil</button>
</div>

<!-- FAUSSE AMENDE -->
<div class="container" id="fausseAmende" style="display:none;">
    <h2>ğŸ’° Ã‰tablissement d'amende ğŸ’°</h2>
    
    <label for="montantAmende">Montant de l'amende</label>
    <select id="montantAmende">
        <option value="3">3 MV</option>
        <option value="4">4 MV</option>
        <option value="5">5 MV</option>
        <option value="6">6 MV</option>
        <option value="7">7 MV</option>
        <option value="8">8 MV</option>
        <option value="9">9 MV</option>
        <option value="10">10 MV</option>
        <option value="11">11 MV</option>
        <option value="12">12 MV</option>
    </select>

    <button onclick="validerFausseAmende()">âœ“ Valider</button>
    <br><br>
    <button onclick="retourAccueil()">â†©ï¸ Retour</button>
</div>

<!-- RÃ‰SULTAT FAUSSE AMENDE -->
<div class="container" id="resultatFausseAmende" style="display:none;">
    <h2>âœ“ Amende confirmÃ©e âœ“</h2>
    <p id="texteAmende" style="font-size: 1.2em;"></p>
    <br>
    <button onclick="retourAccueil()">â†©ï¸ Retour Ã  l'accueil</button>
</div>

<script>
/* ================= DONNÃ‰ES ================= */

const matriculeCorrect = "cestmoiquidecide";
const matriculeFausseAmende = "fausseamende";

const affaires = {
    "Profanateur_MasquÃ©": `Lors de la nuit principale du Carnaval de Venise, un individu masquÃ© a Ã©tÃ© surpris en train de :
nourrir intentionnellement les pigeons de la place Saint-Marc avec des confettis parfumÃ©s au fromage,
tout en portant un masque officiel du Carnavalâ€¦ Ã  l'envers.

Pourquoi c'est grave :
âŒ Nourrir les pigeons est strictement interdit (amende Ã©levÃ©e)
âŒ Les confettis parfumÃ©s ont provoquÃ© une attaque massive de pigeons sur les dignitaires
âŒ Porter un masque officiel Ã  l'envers est considÃ©rÃ© comme une insulte aux traditions

ğŸ˜³ RÃ©sultat : huÃ©es publiques, honte sociale et amende sont Ã  prÃ©voir.
Le coupable appartient forcÃ©ment Ã  une des 3 familles.`,

    "Clocher_Enthousiaste": `Lors de la nuit du Carnaval de Venise, un individu masquÃ© est accusÃ© d'avoir :
actionnÃ© Ã  plusieurs reprises la clochette dÃ©corative d'un palais privÃ©,
hors des horaires autorisÃ©s,
dans le seul but de tester l'Ã©cho musical dans les ruelles.

Pourquoi c'est risible mais sanctionnable :
ğŸ”” La clochette n'a aucune fonction officielle
ğŸ”” Le son a dÃ©clenchÃ© des saluts, rÃ©vÃ©rences et attroupements inutiles
ğŸ”” Des habitants ont cru Ã  une cÃ©rÃ©monie inexistante

ğŸ˜³ GÃªne publique gÃ©nÃ©rale
ğŸ’° Amende pour tapage et perturbation carnavalesque
Le responsable appartient forcÃ©ment Ã  l'une des 3 familles.`,

    "Rubans_RattachÃ©s": `Lors de la grande nuit du Carnaval, un individu masquÃ© a accompli un acte aussi absurde qu'Ã©lÃ©gant :
Il a passÃ© plus d'une heure Ã  rattacher correctement les rubans dÃ©faits des masques des invitÃ©s,
permettant Ã  des dizaines de participants de continuer Ã  danser sans perdre leur masque toutes les deux minutes.

Pourquoi c'est fÃ©licitable :
ğŸ­ Personne ne lui a demandÃ©
â³ Il a ignorÃ© les dÃ©filÃ©s et la musique pour se concentrer sur des nÅ“uds
ğŸ‘ Pourtant, la soirÃ©e a Ã©tÃ© visiblement plus fluide

ğŸ… Le Conseil du Carnaval souhaite fÃ©liciter officiellement ce "Bienfaiteur des Rubans"
L'auteur appartient Ã  l'une des 3 familles.`,

    "Bougies_RÃ©veillÃ©es": `Pendant la nuit du Carnaval, un individu masquÃ© a accompli un geste aussi absurde qu'attentionnÃ© :
Il a rallumÃ© mÃ©thodiquement les bougies dÃ©coratives Ã©teintes par les courants d'air,
sur les balcons, rebords de fenÃªtres et tables extÃ©rieures,
afin que la ville reste uniformÃ©ment Ã©clairÃ©e jusqu'Ã  l'aube.

Pourquoi c'est fÃ©licitable :
ğŸ•¯ï¸ Le vent les Ã©teignait presque aussitÃ´t
ğŸ•¯ï¸ L'effort Ã©tait sans fin
ğŸ•¯ï¸ Personne n'avait demandÃ© une lumiÃ¨re "parfaitement continue"

ğŸ‘ Pourtant, l'ambiance est restÃ©e magique toute la nuit
ğŸ… Le Conseil du Carnaval souhaite fÃ©liciter le "Gardien des Flammes"
L'auteur appartient Ã  l'une des 3 familles.`
};

const affairesJugees = {};
let montantAmendeActuel = 3;

/* ================= LOGIQUE ================= */

function verifier() {
    const affaire = affaireInput.value.trim();
    const matricule = matriculeInput.value.trim();

    if (matricule === matriculeFausseAmende) {
        accueil.style.display = "none";
        fausseAmende.style.display = "block";
        return;
    }

    if (!affaires[affaire]) {
        alert("âš–ï¸ Affaire inexistante dans le registre du tribunal.");
        return;
    }

    if (matricule !== matriculeCorrect) {
        alert("ğŸ” Matricule incorrect. AccÃ¨s refusÃ©.");
        return;
    }

    if (affairesJugees[affaire]) {
        afficherJugement(affaire);
        return;
    }

    titreAffaire.innerText = "ğŸ“‹ Affaire : " + affaire;
    descriptionAffaire.innerText = affaires[affaire];
    famigliaSelect.value = "";

    accueil.style.display = "none";
    deliberation.style.display = "block";
}

function validerFausseAmende() {
    const montant = montantAmende.value;
    montantAmendeActuel = montant;
    texteAmende.innerHTML = `<strong>Une amende de ${montant} MV a Ã©tÃ© Ã©tablie.</strong><br><em>Tous les jugements suivants utiliseront ce montant.</em>`;
    
    fausseAmende.style.display = "none";
    resultatFausseAmende.style.display = "block";
}

function confirmerJugement() {
    const affaire = titreAffaire.innerText.replace("ğŸ“‹ Affaire : ", "");
    const famille = famigliaSelect.value;

    if (!famille) {
        alert("âš–ï¸ Veuillez dÃ©signer une famille avant de prononcer le jugement.");
        return;
    }

    affairesJugees[affaire] = famille;
    mettreAJourListe();
    afficherJugement(affaire);
}

function afficherJugement(affaire) {
    jugementTitre.innerText = "Affaire : " + affaire;
    
    const affairesBienfaitrices = ["Rubans_RattachÃ©s", "Bougies_RÃ©veillÃ©es"];
    const estBienfaiteur = affairesBienfaitrices.includes(affaire);
    
    if (estBienfaiteur) {
        jugementFamille.innerHTML = `<strong>ğŸ… La famiglia ${affairesJugees[affaire]} a Ã©tÃ© reconnue bienfaitrice du Carnaval ğŸ…</strong>`;
        document.getElementById("amendeTexte").innerHTML = 
            `ğŸ’° Les 2 autres familles doivent payer une amende de ${montantAmendeActuel}MV chacune Ã  l'un des juges pour tentative d'appropriation d'un bienfait.`;
    } else {
        jugementFamille.innerHTML = `<strong>âš–ï¸ La famiglia ${affairesJugees[affaire]} a Ã©tÃ© reconnue COUPABLE âš–ï¸</strong>`;
        document.getElementById("amendeTexte").innerHTML = 
            `ğŸ’° Amende de ${montantAmendeActuel}MV Ã  payer Ã  l'un des juges.`;
    }
    
    if (montantAmendeActuel == 3) {
        symbolesJugement.innerHTML = "âš–ï¸ğŸ“œ.ğŸ“œğŸ“œ.âš–ï¸.ğŸ“œâš–ï¸.ğŸ“œâš–ï¸âš–ï¸.âš–ï¸<br>ğŸ“œâš–ï¸ğŸ“œâš–ï¸.ğŸ“œğŸ“œğŸ“œ.ğŸ“œâš–ï¸.âš–ï¸âš–ï¸ğŸ“œâš–ï¸.ğŸ“œğŸ“œğŸ“œ.âš–ï¸ğŸ“œâš–ï¸.ğŸ“œğŸ“œ.âš–ï¸";
    } else {
        symbolesJugement.innerHTML = "âš–ï¸ğŸ“œ.ğŸ“œğŸ“œ.âš–ï¸.ğŸ“œâš–ï¸.ğŸ“œâš–ï¸âš–ï¸.âš–ï¸<br>ğŸ“œâš–ï¸ğŸ“œâš–ï¸.âš–ï¸âš–ï¸ğŸ“œ.âš–ï¸ğŸ“œğŸ“œâš–ï¸.âš–ï¸âš–ï¸.ğŸ“œâš–ï¸âš–ï¸.âš–ï¸";
    }

    accueil.style.display = "none";
    deliberation.style.display = "none";
    jugement.style.display = "block";
}

function retourAccueil() {
    affaireInput.value = "";
    matriculeInput.value = "";

    jugement.style.display = "none";
    deliberation.style.display = "none";
    fausseAmende.style.display = "none";
    resultatFausseAmende.style.display = "none";
    accueil.style.display = "block";
}

function mettreAJourListe() {
    listeAffaires.innerHTML = "";

    for (let affaire in affairesJugees) {
        const ligne = document.createElement("div");
        ligne.className = "affaire-ligne";
        ligne.innerHTML = `
            <span>ğŸ“‹ ${affaire}</span>
            <button onclick="afficherJugement('${affaire}')">ğŸ“œ Voir le verdict</button>
        `;
        listeAffaires.appendChild(ligne);
    }
}
</script>

</body>
</html>
